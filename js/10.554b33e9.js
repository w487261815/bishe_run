"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[10],{8010:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticStyle:{height:"730px",width:"30%",float:"right",margin:"20px",position:"relative",background:"rgba(51, 43, 90)"},attrs:{shadow:"hover"}},[t("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[t("el-upload",{staticClass:"avatar-uploader",staticStyle:{"border-radius":"50%","border-width":"0px"},attrs:{action:"http://150.158.191.247:8088/api/common/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-change":e.handleChange}},[e.BaseData.imgSrc?t("el-image",{staticClass:"avatar",staticStyle:{width:"100px",height:"100px","border-radius":"50%"},attrs:{src:"http://150.158.191.247:8088/image/"+e.BaseData.imgSrc,fit:"fit"}}):e._e()],1),t("br"),t("br"),t("label",{staticStyle:{"font-size":"30px",color:"white"}},[e._v("Hi,"+e._s(e.BaseData.name)),t("a",{staticStyle:{color:"#00BFFF","font-size":"20px"},attrs:{href:"#"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("修改")])]),t("el-dialog",{attrs:{title:"修改名称",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-input",{attrs:{placeholder:"请输入新名称"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.changeName}},[e._v("确 定")])],1)],1),t("br"),t("label",{staticStyle:{"font-size":"18px",color:"white"}},[e._v(e._s(e.BaseData.tel))]),t("div",[t("el-divider"),t("label",{staticStyle:{"font-size":"30px",color:"white"}},[e._v("帮助中心")])],1),t("br"),t("el-button",{attrs:{type:"primary"}},[e._v("密码忘记怎么办？")]),t("br"),t("br"),t("el-button",{attrs:{type:"success"}},[e._v("遇到风险如何冻结？")]),t("br"),t("br"),t("el-button",{attrs:{type:"info"}},[e._v("无法修改密码？")]),t("br")],1)]),t("el-card",{staticStyle:{position:"absolute",width:"45%",float:"left",margin:"20px","margin-left":"50px",height:"730px",background:"rgba(51, 43, 90)"},attrs:{shadow:"hover"}},[t("label",{staticStyle:{"font-size":"30px",color:"white"}},[e._v("设置新密码")]),t("br"),t("br"),t("label",{staticStyle:{"font-size":"18px",color:"white"}},[e._v("用户名")]),t("br"),t("el-input",{staticStyle:{width:"300px","margin-top":"10px"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:e.BaseData.username,callback:function(t){e.$set(e.BaseData,"username",t)},expression:"BaseData.username"}}),t("br"),t("br"),t("label",{staticStyle:{"font-size":"18px",color:"white"}},[e._v("旧密码")]),t("br"),t("el-input",{staticStyle:{width:"300px","margin-top":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.oldpass,callback:function(t){e.oldpass=t},expression:"oldpass"}}),t("br"),t("br"),t("label",{staticStyle:{"font-size":"18px",color:"white"}},[e._v("新密码")]),t("br"),t("el-input",{staticStyle:{width:"300px","margin-top":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.newpass,callback:function(t){e.newpass=t},expression:"newpass"}}),t("br"),t("br"),t("el-button",{attrs:{type:"primary"},on:{click:e.updatepass}},[e._v("确定修改")])],1)],1)},l=[],o=a(6301),i=a(629),r={data(){return{dialogVisible:!1,userToken:"",input:"",count:2,loading:!1,_url:"",newName:"",imageUrl:"http://rluy2ixw3.hn-bkt.clouddn.com/bishe/keji4.jpg",name:"",tel:"",user:"",oldpass:"",newpass:"",BaseData:""}},computed:{...(0,i.Se)(["userObj"]),...(0,i.rn)(["userObj"])},methods:{async updatepass(){console.log(this.BaseData["username"]);const{data:e,resultCode:t}=await(0,o.t2)({username:this.BaseData["username"],newpass:this.newpass,oldpass:this.oldpass});200==t&&(this.$message({message:"操作成功",type:"success"}),location.reload())},handleClose(){},async changeName(){this.BaseData=this.$store.state.userObj,this.BaseData["name"]=this.newName;let e={data:"da",da:"ss"};console.log(this.BaseData),console.log(e);const{data:t,resultCode:a}=await(0,o.ef)(this.BaseData);200==a&&(this.$message({message:"操作成功",type:"success"}),location.reload())},async handleAvatarSuccess(e,t){console.log(e),this.BaseData=this.$store.state.userObj,this.BaseData["imgSrc"]=e["message"],console.log(this.BaseData);const{data:a,resultCode:s}=await(0,o.HF)(this.BaseData);200==s&&this.$message({message:"操作成功",type:"success"}),this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},ff(){console.log("dsa")},handleRemove(e){console.log(e)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0,console.log(e)},handleDownload(e){console.log(e)},handleChange(e){console.log(e);var t=e.raw,a=new FormData;a.append("files",t),this.$Axios.post("/test",a,{headers:{token:this.userToken},params:{token:this.userToken}}).then((e=>{console.log(e)}))}},mounted(){this.BaseData=this.$store.state.userObj,console.log(this.BaseData)}},n=r,c=a(1001),p=(0,c.Z)(n,s,l,!1,null,null,null),d=p.exports}}]);
//# sourceMappingURL=10.554b33e9.js.map